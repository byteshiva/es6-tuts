<script>
// Topic on Symbols

var obj = {};
obj['prop1'] = 1;
obj['prop2'] = 2;

var prop3 = Symbol('prop3');
var prop4 = Symbol('prop4');

for(var key in obj) {
  console.log(key, '=', obj[key])
}

console.log(obj[prop3]);
console.log(obj[prop4]);
  
// Iterator using Symbol
  
  class Users {
    constructor(users) {
      this.users = users;
    }
    
    [Symbol.iterator]() {
      let i = 0;
      let users = this.users;
      
      // this returned object is called an "iterator"
      return {
        next() {
          if (i < users.length) {
            return { done: false, value: users[i++] };
          }
          return { done: true };
        },
      };
    }
  }
  
  const allUsers = new Users([
    { name: 'Siva' },
    { name: 'Cva' },
    { name: 'Subr' },    
  ]);
  
  const allUsersIterator = allUsers[Symbol.iterator]();
  allUsersIterator.next();
  allUsersIterator.next();
  allUsersIterator.next();
  allUsersIterator.next();
  
// Example to test async and await
const doubleAfter4Sec = (param) => {
   return new Promise(resolve => {
      console.log(param);
      setTimeout(resolve(param * 2), 4000);
   });
}

 doubleAndAdd = async (a, b) => { 
  [a , b] = await Promise.all([doubleAfter4Sec(a),doubleAfter4Sec(a)]);
return a + b;
}
doubleAndAdd(1,2).then(x => console.log(x));
</script>
